{"version":3,"sources":["application.js"],"names":["getLocation","callback","navigator","geolocation","getCurrentPosition","times","stops","map","stop","time","join","templateData","data","inbound","stopName","outbound","pos","url","coords","latitude","longitude","target","document","querySelector","fetch","then","response","json","innerHTML","err","console","log"],"mappings":"CAAA,WACA,QAAAA,GAAAC,GACAC,UAAAC,aACAD,UAAAC,YAAAC,mBAAAH,GAIA,QAAAI,GAAAC,GACA,MAAAA,GAAAC,IAAA,SAAAC,GACA,MAAA,OAAAA,EAAAC,KAAA,WACAC,KAAA,IAGA,QAAAC,GAAAC,GACA,MAAA,OAAAA,EAAAC,QAAA,GAAAC,SAAA,yBAEAT,EAAAO,EAAAC,SAAA,yBAEAR,EAAAO,EAAAG,UAAA,QAGAf,EAAA,SAAAgB,GACA,GAAAC,GAAA,2DAAAD,EAAAE,OAAAC,SAAA,QAAAH,EAAAE,OAAAE,UACAC,EAAAC,SAAAC,cAAA,WAEAC,OAAAP,GAAAQ,KAAA,SAAAC,GACA,MAAAA,GAAAC,SACAF,KAAA,SAAAb,GACAS,EAAAO,UAAAjB,EAAAC,KAHAY,SAIA,SAAAK,GACAC,QAAAC,IAAAD,QAAAC,IAAAF","file":"application.min.js","sourcesContent":["(function() {\n  function getLocation(callback) {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(callback);\n    }\n  }\n\n  function times(stops) {\n    return stops.map(function(stop) {\n      return '<li>' + stop.time + 'm</li>';\n    }).join('');\n  }\n\n  function templateData(data) {\n    return '<h1>' + data.inbound[0].stopName + '</h1>' +\n      '<h2>East</h2>' +\n      '<ol>' + times(data.inbound) + '</ol>' +\n      '<h2>West</h2>' +\n      '<ol>' + times(data.outbound) + '</ol>';\n  }\n\n  getLocation(function(pos) {\n    var url = 'https://septascheduler.herokuapp.com/point?route=34&lat=' + pos.coords.latitude + '&lng=' + pos.coords.longitude,\n        target = document.querySelector('div.next');\n\n    fetch(url).then(function(response) {\n      return response.json();\n    }).then(function(data) {\n      target.innerHTML = templateData(data);\n    }).catch(function(err) {\n      console.log(console.log(err));\n    });\n  });\n})();\n"],"sourceRoot":"/source/"}